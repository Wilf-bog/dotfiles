<!-- SC_OFF --><div class="md"><p>So i asked chatGPT<br/> &quot;doom eamcs recent files when i change dir of my file i want recent file to remove the old location entry&quot;</p> <p>chatGPT gave me the code</p> <p>```</p> <p>;; Function to remove old file path from recentf list (defun remove-recentf-entry-if-moved (oldpath newpath) &quot;Remove OLD-PATH from <code>recentf-list</code> if file is moved to NEWPATH.&quot; (recentf-edit-list) (setq recentf-list (cl-delete-if (lambda (path) (string-equal path oldpath)) recentf-list)) (recentf-save-list))</p> <p>;; Hook the function to after-save-hook to update recentf list after saving a file (add-hook &#39;after-save-hook (lambda () (let ((buffer-file-name (buffer-file-name))) (when buffer-file-name (remove-recentf-entry-if-moved buffer-file-name (file-truename buffer-file-name))))))</p> <p>```</p> <p>adding this code to me config file gave me the following unneeded behaviour</p> <ul> <li>whenever i try to quit <code>recentf-edit-list</code> opens</li> <li>whenever i save a file the saved file is removed from recent file</li> </ul> <p>I didn&#39;t want that so i just removed the code ran <code>doom/reload</code> yet the issue remained. The config file is clearly devoid of the code provided to me by chatGPT .</p> <p>After that failed i ran <code>doom sync</code> and then <code>doom/reload</code> still no change.</p> <p>I thought f#ck it and just reverted back to my previous commit and the issue still remains.</p> <p>Now i dont know what to do anymore.</p> <p>Please help as i just started getting into emacs 3 days ago and not good enough yet to deal with this myself.</p> <p>This is the value of my <code>after-save-hook</code></p> <p>```</p> <p>(diff-hl-update +emacs-lisp-non-package-mode flycheck-handle-save t ws-butler-after-save) Original value was nil Local in buffer config.el; global value is (doom-modeline-update-vcs doom-modeline-update-buffer-file-name #f(compiled-function () #&lt;bytecode 0x96b404426f0cb9f&gt;) +evil-display-vimlike-save-message-h doom-auto-revert-buffers-h doom-guess-mode-h)</p> <p>```</p> <p>ANY HELP IS VERY MUCH APPRECIATED</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/SerenadeWindz"> /u/SerenadeWindz </a> <br/> <span><a href="https://www.reddit.com/r/emacs/comments/1e7zvs1/messed_up_my_recentf_thanks_chatgpt_u_fker/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/emacs/comments/1e7zvs1/messed_up_my_recentf_thanks_chatgpt_u_fker/">[comments]</a></span>