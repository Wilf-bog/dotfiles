<!-- SC_OFF --><div class="md"><p>Hi everyone. I&#39;ve generally been happy with treesitter&#39;s cpp indentation, but there is a situation i run into often where I can&#39;t get it to behave the way I want it to:</p> <p>``` FrontendServer::FrontendServer(int port, std::shared_ptr&lt;StateUpdater&gt; state_updater, bool replay_mode) : m_http_port(port), m_exit(false), m_thread(nullptr), m_state_updater(state_updater), m_replay_mode(replay_mode), m_jsonrpc_handler(state_updater) { // it wants to put things here }</p> <p>FrontendServer::FrontendServer(int port, std::shared_ptr&lt;StateUpdater&gt; state_updater, bool replay_mode) : m_http_port(port), m_exit(false), m_thread(nullptr), m_state_updater(state_updater), m_replay_mode(replay_mode), m_jsonrpc_handler(state_updater) { // but i want it to do this instead } ```</p> <p>any thoughts on how to achieve this? my current indentation setup:</p> <p><code> ; stolen from https://www.reddit.com/r/emacs/comments/16zhgrd/comment/k4aw2yi/?utm_source=share&amp;utm_medium=web2x&amp;context=3 (defun my/c-ts-indent-style() `( ;; align function arguments to the start of the first one, offset if standalone ((match nil &quot;argument_list&quot; nil 1 1) parent-bol c-ts-mode-indent-offset) ((parent-is &quot;argument_list&quot;) (nth-sibling 1) 0) ;; same for parameters ((match nil &quot;parameter_list&quot; nil 1 1) parent-bol c-ts-mode-indent-offset) ((parent-is &quot;parameter_list&quot;) (nth-sibling 1) 0) ;; indent inside case blocks ((parent-is &quot;case_statement&quot;) standalone-parent c-ts-mode-indent-offset) ;; do not indent preprocessor statements ((node-is &quot;preproc&quot;) column-0 0) ;; do not indent children of namespaces ((n-p-gp nil nil &quot;namespace_definition&quot;) grand-parent 0) ;; append to bsd style ,@(alist-get &#39;bsd (c-ts-mode--indent-styles &#39;cpp)))) </code></p> <p>thanks!</p> </div><!-- SC_ON --> &#32; submitted by &#32; <a href="https://www.reddit.com/user/ottersinabox"> /u/ottersinabox </a> <br/> <span><a href="https://www.reddit.com/r/emacs/comments/1e7eny2/help_with_indenting_using_treesitter_in_c/">[link]</a></span> &#32; <span><a href="https://www.reddit.com/r/emacs/comments/1e7eny2/help_with_indenting_using_treesitter_in_c/">[comments]</a></span>